webpackJsonp([1],{"AGd+":function(t,e){},BYs2:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),o={name:"App",mounted:function(){var t=void 0;(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET","../static/configuration.json",!1),t.send();var e=JSON.parse(t.responseText);this.$store.dispatch("Init",e),console.log(e)}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},a=n("VU/8")(o,r,!1,null,null,null).exports,s={cutStr:function(t,e){try{return t.length>e?t.substring(0,e)+"...":t}catch(t){return""}},verifyEmail:function(t){if(null==t||void 0==t)return!1;return/^[0-9A-Za-z_]+@[0-9A-Za-z]+\.[A-Za-z]+/.test(t)},utcToLocal:function(t){var e=t.split(/[^0-9]/),n=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]),i=new Date(n.getTime()+288e5);return i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}},l=n("/ocq"),c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error404"},[n("div",{staticClass:"error404-body-con"},[t._m(0),t._v(" "),n("p",{staticClass:"error404-body-con-message"},[t._v("YOU  LOOK  LOST")]),t._v(" "),n("div",{staticClass:"error404-btn-con"},[n("el-button",{staticStyle:{width:"200px"},attrs:{size:"large",type:"text"},on:{click:t.goHome}},[t._v("返回首页")]),t._v(" "),n("el-button",{staticStyle:{width:"200px","margin-left":"40px"},attrs:{size:"large",type:"primary"},on:{click:t.backPage}},[t._v("返回上一页")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error404-body-con-title"},[this._v("4"),e("span",[e("i",{staticClass:"el-icon-question"})]),this._v("4")])}]};var u=n("VU/8")({name:"Error404",methods:{backPage:function(){this.$router.go(-1)},goHome:function(){this.$router.push("/")}}},c,!1,function(t){n("vFvD")},null,null).exports,d=n("Dd8w"),p=n.n(d),m=n("NYxO"),f={data:function(){return{show:!1,handleClose:null,tokenForm:{token:""}}},computed:p()({},Object(m.b)(["githubUsername"])),methods:{open:function(t){this.handleClose=t,this.show=!0},onSubmit:function(){var t=this;this.$refs.tokenForm.validate(function(e){e&&(t.$store.dispatch("Authentication",t.tokenForm.token),"function"==typeof t.handleClose&&t.handleClose())}),this.show=!1}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:"绑定Token",visible:t.show,width:"500px"},on:{"update:visible":function(e){t.show=e}}},[n("el-form",{ref:"tokenForm",attrs:{model:t.tokenForm,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"GitHub"}},[n("el-tag",[t._v(t._s(t.githubUsername))])],1),t._v(" "),n("el-form-item",{attrs:{prop:"token",label:"Token",rules:[{required:!0,message:"请输入accessToken",trigger:"blur"}]}},[n("el-input",{model:{value:t.tokenForm.token,callback:function(e){t.$set(t.tokenForm,"token",e)},expression:"tokenForm.token"}})],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]},g=n("VU/8")(f,h,!1,null,null,null).exports,v={components:{TokenDialog:g},data:function(){return{constantRouterMap:tt,active:"",parentUrl:"",menuList:[]}},computed:p()({},Object(m.b)(["token","githubUsername"])),mounted:function(){var t=this.$route.path.split("/");this.active="/"+t[1]+"/"+t[2]},methods:{onSelect:function(t){this.$router.push(t)},openTokenDialog:function(){this.$refs.tokenDialog.open(function(){console.log("aaa")})},cancellation:function(){this.$store.dispatch("Cancellation")}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{attrs:{shadow:"never"}},[n("el-menu",{attrs:{"default-active":t.active},on:{select:t.onSelect}},t._l(t.constantRouterMap,function(e){return e.meta&&"user"==e.meta.type?n("el-menu-item",{key:e.path,attrs:{index:e.path}},[n("i",{class:e.meta.icon}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.meta.title))])]):t._e()}))],1),t._v(" "),n("el-card",{staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{shadow:"never"}},[t.token?t._e():n("div",{staticStyle:{"font-size":"0.9rem","line-height":"1.5",color:"#606c71"}},[n("el-tag",{attrs:{type:"warning",size:"small"}},[t._v(" ")]),t._v("  \n            Token未绑定  \n            "),n("el-button",{attrs:{type:"text"},on:{click:t.openTokenDialog}},[t._v("绑定")])],1),t._v(" "),t.token?n("div",{staticStyle:{"font-size":"0.9rem","line-height":"1.5",color:"#303133"}},[n("el-tag",{attrs:{type:"success",size:"small"}},[t._v(" ")]),t._v("  \n            Token已绑定  \n            "),n("el-button",{attrs:{type:"text"},on:{click:t.cancellation}},[t._v("注销")])],1):t._e()]),t._v(" "),n("token-dialog",{ref:"tokenDialog"})],1)},staticRenderFns:[]},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("transition",{attrs:{name:"fade"}},[e("router-view")],1)],1)},staticRenderFns:[]};var x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"border-top":"1px #e1e4e8 solid !important",padding:"45px 0px 45px 0px"}},[n("el-row",[n("el-col",{attrs:{span:10}},[n("div",[t._v("\n\t\t\t\t© 2018 GitHub-LaZiji  \n\t\t\t\t"),n("a",{attrs:{href:"https://github.com/GitHub-Laziji",target:"_blank"}},[t._v("Profile")]),t._v("  \n\t\t\t\t"),n("a",{attrs:{href:"https://github.com/GitHub-Laziji/blog-vue",target:"_blank"}},[t._v("blog-vue")])])]),t._v(" "),n("el-col",{attrs:{span:4}},[n("div",{staticStyle:{"text-align":"center","font-size":"18px"}},[n("i",{staticClass:"el-icon-location"})])]),t._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticStyle:{float:"right"}},[n("a",{attrs:{href:"https://developer.github.com",target:"_blank"}},[t._v("GitHub-API")]),t._v("  \n\t\t\t\t"),n("a",{attrs:{href:"https://cn.vuejs.org/",target:"_blank"}},[t._v("Vue.js")]),t._v("  \n\t\t\t\t"),n("a",{attrs:{href:"http://element.eleme.io/",target:"_blank"}},[t._v("Element")])])])],1)],1)},staticRenderFns:[]},k={components:{Sidebar:n("VU/8")(v,b,!1,null,null,null).exports,AppMain:n("VU/8")({name:"AppMain",computed:{}},_,!1,function(t){n("BYs2")},null,null).exports,Foot:n("VU/8")({data:function(){return{}},methods:{}},x,!1,null,null,null).exports},data:function(){return{}},computed:p()({},Object(m.b)(["githubUsername","blogTitle","blogDescribe"]))},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("section",{staticClass:"page-header"},[n("h1",{staticClass:"project-name"},[t._v(t._s(t.blogTitle))]),t._v(" "),n("h2",{staticClass:"project-tagline"},[t._v(t._s(t.blogDescribe))]),t._v(" "),n("a",{staticClass:"btn",attrs:{href:"https://github.com/"+t.githubUsername,target:"_blank"}},[t._v("GitHub主页")]),t._v(" "),n("a",{staticClass:"btn",attrs:{href:"https://github.com/GitHub-Laziji/blog-vue",target:"_blank"}},[t._v("博客源码")])]),t._v(" "),n("section",{staticClass:"main-content"},[n("el-row",[n("el-col",{staticStyle:{"padding-right":"20px"},attrs:{span:6}},[n("sidebar")],1),t._v(" "),n("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:18}},[n("app-main")],1)],1)],1),t._v(" "),n("section",{staticClass:"foot"},[n("foot")],1)])},staticRenderFns:[]};var T=n("VU/8")(k,y,!1,function(t){n("pv2z")},null,null).exports,w=n("mtWM"),S=n.n(w),$=n("lbHh"),E=n.n($),F=function(t,e,n){return n?E.a.set(t,e,{expires:n}):E.a.set(t,e)},O=function(t){return E.a.remove(t)},U={state:{token:function(t){return E.a.get(t)}("TOKEN_KEY")},mutations:{SET_TOKEN:function(t,e){t.token=e,F("TOKEN_KEY",e,30)},REMOVE_TOKEN:function(t){t.token=null,O("TOKEN_KEY")}},actions:{Authentication:function(t,e){(0,t.commit)("SET_TOKEN",e)},Cancellation:function(t){(0,t.commit)("REMOVE_TOKEN")}}},C={state:{githubUsername:"",blogTitle:"",blogDescribe:""},mutations:{SET_CONFIGURATION:function(t,e){t.githubUsername=e["github-username"],t.blogTitle=e["blog-title"],t.blogDescribe=e["blog-describe"]}},actions:{Init:function(t,e){(0,t.commit)("SET_CONFIGURATION",e)}}},D={token:function(t){return t.token.token},githubUsername:function(t){return t.configuration.githubUsername},blogTitle:function(t){return t.configuration.blogTitle},blogDescribe:function(t){return t.configuration.blogDescribe}};i.default.use(m.a);var R=new m.a.Store({modules:{token:U,configuration:C},getters:D}),z=S.a.create({baseURL:"https://api.github.com",timeout:15e3});z.interceptors.request.use(function(t){var e=R.state.token.token;return e&&(t.url=t.url+"?access_token="+e),t},function(t){}),z.interceptors.response.use(function(t){return t.data},function(t){});var L=z,H=function(){return L({url:"/users/GitHub-Laziji/gists"})},A=function(t){return L({url:"/gists/"+t})},K=function(t){var e={};return e[t.title]={content:t.content},L({url:"/gists",method:"post",data:{description:t.description,public:!0,files:e}})},M={data:function(){return{loading:!1,searchKey:"",blogs:[]}},mounted:function(){var t=this;this.loading=!0,H().then(function(e){for(var n=0;n<e.length;n++)for(var i in e[n].files){var o={};o.title=i,o.url=e[n].files[i],o.description=e[n].description,o.id=e[n].id,o.createTime=t.$util.utcToLocal(e[n].created_at),o.updateTime=t.$util.utcToLocal(e[n].updated_at),t.blogs.push(o)}}).then(function(){return t.loading=!1})},methods:{goDetails:function(t){this.$router.push("/user/blog/details/"+t)}}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"1000px"}},[n("el-card",{staticStyle:{"margin-bottom":"20px"},attrs:{shadow:"never"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入关键字",clearable:""},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),t._v(" "),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"el-icon-search",circle:"",plain:""}}),t._v(" "),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"el-icon-share",type:"warning",plain:"",circle:""}}),t._v(" "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-edit",round:"",plain:""},on:{click:function(e){t.$router.push("/user/blog/edit")}}},[t._v("写博文")])],1),t._v(" "),t._l(t.blogs,function(e,i){return n("el-card",{key:"p"+i,staticStyle:{"margin-bottom":"20px"},attrs:{shadow:"hover"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[n("a",{staticStyle:{"text-decoration":"none",cursor:"pointer"},on:{click:function(n){t.goDetails(e.id)}}},[n("i",{staticClass:"el-icon-tickets"}),t._v("  \n                    "+t._s(e.title)+"\n                ")])]),t._v(" "),n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",icon:"el-icon-share"}})],1),t._v(" "),n("div",{staticStyle:{"font-size":"0.9rem","line-height":"1.5",color:"#606c71"}},[t._v("\n            最近更新 "+t._s(e.updateTime)+"\n        ")]),t._v(" "),n("div",{staticStyle:{"font-size":"1.1rem","line-height":"1.5",color:"#303133",padding:"10px 0px 0px 0px"}},[t._v("\n            "+t._s(e.description)+"\n        ")])])})],2)},staticRenderFns:[]},j=n("VU/8")(M,V,!1,null,null,null).exports,N=n("mvHQ"),G=n.n(N),q={components:{TokenDialog:g},data:function(){return{form:{title:"",description:"",content:""},ruleValidate:{title:[{required:!0,message:"请输入标题",trigger:"blur"},{type:"string",max:32,message:"标题长度不大于32字符",trigger:"change"}],description:[{required:!0,message:"请输入博客描述",trigger:"blur"}],content:[{required:!0,message:"请输博客入正文",trigger:"blur"}]},submitButton:{loading:!1,disabled:!1}}},computed:p()({},Object(m.b)(["token"])),methods:{onSubmit:function(){var t=this;this.token?this.publish():this.$refs.tokenDialog.open(function(){t.publish()})},publish:function(){var t=this;this.$refs.form.validate(function(e){e&&(t.submitButton.loading=!0,t.submitButton.disabled=!0,K(t.form).then(function(e){console.log(G()(e)),t.$message({message:"发表成功",type:"success"})}).then(function(){t.submitButton.loading=!1,t.submitButton.disabled=!1}))})}}},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"min-height":"800px"}},[n("el-card",{staticStyle:{"margin-bottom":"20px"},attrs:{shadow:"never"}},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",rules:t.ruleValidate}},[n("el-form-item",{attrs:{label:"标题",prop:"title"}},[n("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"简要说明",prop:"description"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"博客正文",prop:"content"}},[n("mavon-editor",{attrs:{subfield:!1},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",loading:t.submitButton.loading,disabled:t.submitButton.disabled},on:{click:t.onSubmit}},[t._v("发表")]),t._v(" "),n("el-button",{on:{click:function(e){t.$router.push("/user/blog/main")}}},[t._v("返回")])],1)],1)],1),t._v(" "),n("token-dialog",{ref:"tokenDialog"})],1)},staticRenderFns:[]};var I=n("VU/8")(q,B,!1,function(t){n("ZkK7")},null,null).exports,Y={data:function(){return{blog:{id:"",title:"",content:"",description:""}}},mounted:function(){var t=this;this.blog.id=this.$route.params.id,A(this.blog.id).then(function(e){for(var n in e.files){t.blog.title=n,t.blog.content=t.$markdown(e.files[n].content),t.blog.description=e.description,t.blog.createTime=t.$util.utcToLocal(e.created_at),t.blog.updateTime=t.$util.utcToLocal(e.updated_at);break}})},methods:{test:function(){this.$router.push("/user/blog/main")}}},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{staticStyle:{"min-height":"600px"},attrs:{shadow:"never"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[t._v(t._s(t.blog.title))]),t._v(" "),n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.test}},[t._v("更多博客")])],1),t._v(" "),n("div",{staticStyle:{"font-size":"0.9rem","line-height":"1.5",color:"#606c71"}},[t._v("\n            发布 "+t._s(t.blog.createTime)),n("br"),t._v("\n            更新 "+t._s(t.blog.updateTime)+"\n        ")]),t._v(" "),n("div",{staticStyle:{"font-size":"1.1rem","line-height":"1.5",color:"#303133","border-bottom":"1px solid #E4E7ED",padding:"20px 0px 25px 0px"}},[t._v("\n            "+t._s(t.blog.description)+"\n        ")]),t._v(" "),n("div",{domProps:{innerHTML:t._s(t.blog.content)}})])],1)},staticRenderFns:[]},Z=n("VU/8")(Y,P,!1,null,null,null).exports,X={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{"min-height":"800px"}},[this._v("\n   sdafsdafsda\n   \n")])},staticRenderFns:[]};var J=n("VU/8")({data:function(){return{}}},X,!1,function(t){n("AGd+")},null,null).exports,W={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},Q=n("VU/8")({data:function(){return{}},mounted:function(){this.$store.dispatch("Authentication","asdasddddd")},methods:{}},W,!1,null,null,null).exports;i.default.use(l.a);var tt=[{path:"/user/new",redirect:"/user/new/main",component:T,meta:{type:"user",icon:"el-icon-star-off",title:"最新动态"},children:[{path:"main",component:J}]},{path:"/user/blog",redirect:"/user/blog/main",component:T,meta:{type:"user",icon:"el-icon-edit-outline",title:"博客列表"},children:[{path:"main",component:j},{path:"edit",component:I},{path:"details/:id",component:Z}]},{path:"/user/readme",redirect:"/user/readme/main",component:T,meta:{type:"user",icon:"el-icon-document",title:"README.md"},children:[{path:"main",component:Q}]},{path:"/user/license",redirect:"/user/license/main",component:T,meta:{type:"user",icon:"el-icon-setting",title:"License"},children:[{path:"main",component:J}]},{path:"/404",component:u},{path:"/",redirect:"/user/new"},{path:"*",redirect:"/404"}],et=new l.a({routes:tt}),nt=n("zL8q"),it=n.n(nt),ot=(n("tvR6"),n("OS1Z")),rt=n.n(ot);n("pw1w");i.default.use(it.a),i.default.use(rt.a),i.default.prototype.$markdown=function(t){return rt.a.markdownIt.render(t)},i.default.prototype.$reload=function(t){t.$router.push("/empty"),t.$nextTick(function(){return t.$router.go(-1)})},i.default.prototype.$util=s,i.default.config.productionTip=!1,new i.default({el:"#app",router:et,store:R,components:{App:a},template:"<App/>"})},ZkK7:function(t,e){},pv2z:function(t,e){},pw1w:function(t,e){},tvR6:function(t,e){},vFvD:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0c9f96178fba9a95c9fd.js.map